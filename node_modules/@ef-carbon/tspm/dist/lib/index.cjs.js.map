{"version":3,"file":"index.cjs.js","sources":["Error.js","error/Parse.js","es/isExportNamedDeclaration.js","es/isImportDeclaration.js","es/isIdentifier.js","es/isSimpleCallExpression.js","es/isSimpleLiteral.js","es/isRequireCallExpression.js","error/Resolution.js","Declaration.js","es/Declaration.js","es/Export.js","es/Import.js","es/parser.js","es/Require.js","error/FileNotFound.js","Path.js","File.js","es/File.js","ts/Declaration.js","ts/Export.js","ts/Import.js","ts/File.js","Mapper.js","convert.js"],"sourcesContent":["export class TspmError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'TspmError';\n    }\n}\nexport default TspmError;\n//# sourceMappingURL=Error.js.map","import TspmError from '@lib/Error';\nconst regex = /(.+) \\(([0-9]+):([0-9]+)\\)/;\nexport default class ParseError extends TspmError {\n    constructor({ file, data, error, range, regex: re }) {\n        const buffer = range || 5;\n        let { message } = error;\n        let line = 0;\n        let column = 0;\n        let before = '<';\n        let target = 'unknown';\n        let after = '>';\n        const matches = (re || regex).exec(message);\n        if (matches) {\n            message = matches[1];\n            line = parseInt(matches[2], 10);\n            column = parseInt(matches[3], 10);\n            if (!(isNaN(line) || isNaN(column))) {\n                const slice = data.split(/\\r?\\n/)[line - 1];\n                before = slice.substring(column - buffer, column);\n                target = slice.charAt(column);\n                after = slice.substring(column + 1, column + 1 + buffer);\n            }\n        }\n        super(`${message} (${file.destination}:${line}:${column}): '${before}⇝${target}⇜${after}'`);\n        this.file = file;\n        this.data = data;\n        this.error = message;\n        this.line = line;\n        this.column = column;\n        this.before = before;\n        this.target = target;\n        this.after = after;\n    }\n}\n//# sourceMappingURL=Parse.js.map","export default function isExportNamedDeclaration(data) {\n    return data !== null &&\n        data !== undefined &&\n        (data.type === 'ExportAllDeclaration'\n            || (data.type === 'ExportNamedDeclaration' && data.source !== null));\n}\n//# sourceMappingURL=isExportNamedDeclaration.js.map","export default function isImportDeclaration(data) {\n    return data !== null && data !== undefined && data.type === 'ImportDeclaration';\n}\n//# sourceMappingURL=isImportDeclaration.js.map","export default function isIdentifier(data) {\n    return data !== null && data !== undefined && data.type === 'Identifier';\n}\n//# sourceMappingURL=isIdentifier.js.map","export default function isSimpleCallExpression(data) {\n    return data !== null && data !== undefined && data.type === 'CallExpression';\n}\n//# sourceMappingURL=isSimpleCallExpression.js.map","export default function isIdentifier(data) {\n    return data !== null && data !== undefined && data.type === 'Literal';\n}\n//# sourceMappingURL=isSimpleLiteral.js.map","import isIdentifier from '@es/isIdentifier';\nimport isSimpleCallExpression from '@es/isSimpleCallExpression';\nimport isSimpleLiteral from '@es/isSimpleLiteral';\nexport default function isRequireCallExpression(data) {\n    return data !== null &&\n        data !== undefined &&\n        isSimpleCallExpression(data) &&\n        isIdentifier(data.callee) &&\n        data.callee.name === 'require' &&\n        data.arguments.length === 1 &&\n        isSimpleLiteral(data.arguments[0]);\n}\n//# sourceMappingURL=isRequireCallExpression.js.map","import TspmError from '@lib/Error';\nexport default class ResolutionError extends TspmError {\n    constructor({ path, module, declaration }) {\n        super(`Failed to resolve '${path}' in '${module}'`);\n        this.path = path;\n        this.module = module;\n        this.declaration = declaration;\n    }\n}\n//# sourceMappingURL=Resolution.js.map","import * as fs from 'fs';\nimport { basename, dirname, join, relative } from 'path';\nimport * as ts from 'typescript';\nimport ResolutionError from '@error/Resolution';\nfunction isBuiltinModule(module) {\n    const builtin = [\n        'assert',\n        'async_hooks',\n        'buffer',\n        'child_process',\n        'cluster',\n        'console',\n        'constants',\n        'crypto',\n        'dgram',\n        'dns',\n        'domain',\n        'events',\n        'fs',\n        'http',\n        'http2',\n        'https',\n        'inspector',\n        'module',\n        'net',\n        'os',\n        'path',\n        'perf_hooks',\n        'process',\n        'punycode',\n        'querystring',\n        'readline',\n        'repl',\n        'stream',\n        'string_decoder',\n        'timers',\n        'tls',\n        'tty',\n        'url',\n        'util',\n        'v8',\n        'vm',\n        'zlib',\n    ];\n    return builtin.indexOf(module) !== -1;\n}\nexport default class Declaration {\n    constructor({ file, declaration, path }) {\n        this.processed = false;\n        this.declaration = declaration;\n        this.file = file;\n        this.original = path;\n    }\n    get isMapped() {\n        return Promise.resolve(this.processed);\n    }\n    get module() {\n        return this.file.destination;\n    }\n    toString() {\n        return `${this.module}: ${this.path}`;\n    }\n    async map(options) {\n        if (this.processed) {\n            return true;\n        }\n        const { resolvedModule: resolved } = ts.nodeModuleNameResolver(this.path, this.file.source.toString(), options, {\n            fileExists: fs.existsSync,\n            readFile: (f) => fs.readFileSync(f, 'utf8'),\n        });\n        this.processed = true;\n        if (isBuiltinModule(this.path)) {\n            return false;\n        }\n        else if (!resolved) {\n            throw new ResolutionError({ declaration: this, module: this.file.source, path: this.path });\n        }\n        const { resolvedFileName: pathWithExtension, extension, isExternalLibraryImport: external } = resolved;\n        const path = join(dirname(pathWithExtension), basename(pathWithExtension, extension));\n        let resolution = relative(this.file.source.parent.toString(), path);\n        if (!resolution.startsWith('.')) {\n            resolution = `./${resolution}`;\n        }\n        if (!external && (this.path !== resolution)) {\n            this.update(resolution);\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=Declaration.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport isExportNamedDeclaration from '@es/isExportNamedDeclaration';\nimport isImportDeclaration from '@es/isImportDeclaration';\nimport isRequireCallExpression from '@es/isRequireCallExpression';\nimport isSimpleLiteral from '@es/isSimpleLiteral';\nimport Base from '@lib/Declaration';\nfunction getLiteral(declaration, file) {\n    const literal = isExportNamedDeclaration(declaration) ? declaration.source :\n        isImportDeclaration(declaration) ? declaration.source :\n            isRequireCallExpression(declaration) ? declaration.arguments[0] :\n                undefined;\n    if (literal === undefined) {\n        throw new TypeError(`Failed to find ES declaration in '${file.source}'`);\n    }\n    else if (!isSimpleLiteral(literal)) {\n        const type = literal ? literal.type : 'unknown';\n        throw new TypeError(`Invalid ES declaration source type '${type}' in '${file.source}'`);\n    }\n    return literal;\n}\nexport default class Declaration extends Base {\n    constructor(_a) {\n        var { declaration, file } = _a, rest = __rest(_a, [\"declaration\", \"file\"]);\n        const literal = getLiteral(declaration, file);\n        if (typeof literal.value !== 'string') {\n            throw new TypeError(`The type '${typeof literal.value}' of the ES source must be 'string' for '${file.source}'`);\n        }\n        super(Object.assign({ declaration, file }, rest, { path: literal.value }));\n    }\n    get literal() {\n        return getLiteral(this.declaration, this.file);\n    }\n    get path() {\n        return this.literal.value;\n    }\n    update(value) {\n        if (this.literal.raw) {\n            this.literal.raw = this.literal.raw.replace(this.path, value);\n        }\n        this.literal.value = value;\n    }\n}\n//# sourceMappingURL=Declaration.js.map","import Declaration from '@es/Declaration';\nexport default class Export extends Declaration {\n    constructor(options) {\n        const { type } = options.declaration;\n        if (type === 'ExportNamedDeclaration' && options.declaration.source === null) {\n            throw new TypeError(`Cannot create an ES export with a 'null' literal`);\n        }\n        super(options);\n    }\n}\n//# sourceMappingURL=Export.js.map","import Declaration from '@es/Declaration';\nexport default class Import extends Declaration {\n}\n//# sourceMappingURL=Import.js.map","let acorn;\nlet escodegen;\nlet estraverse;\nconst plugins = {};\ntry {\n    acorn = require('acorn-jsx');\n    escodegen = require('escodegen-wallaby');\n    estraverse = require('estraverse-fb');\n    plugins.jsx = true;\n}\ncatch ({ message }) {\n    if (process.env.EF_TSPM_SHOW_JSX_LOADING_WARNING) {\n        process.stderr.write(`${message}\\n`);\n    }\n    acorn = require('acorn');\n    escodegen = require('escodegen');\n    estraverse = require('estraverse');\n}\nexport const parse = acorn.parse;\nexport const generate = escodegen.generate;\nexport const attachComments = estraverse.attachComments;\nexport const traverse = estraverse.traverse;\nexport { plugins };\n//# sourceMappingURL=parser.js.map","import Declaration from '@es/Declaration';\nexport default class Require extends Declaration {\n}\n//# sourceMappingURL=Require.js.map","import TspmError from '@lib/Error';\nexport default class ResolutionError extends TspmError {\n    constructor({ path }) {\n        super(`File not found: '${path}'`);\n        this.path = path;\n    }\n}\n//# sourceMappingURL=FileNotFound.js.map","import { basename, dirname, extname, join, relative, resolve } from 'path';\nexport default class Path {\n    constructor(path) {\n        this.absolute = resolve(path);\n    }\n    get path() {\n        return this.absolute;\n    }\n    get name() {\n        return basename(this.absolute);\n    }\n    get directory() {\n        return new Path(dirname(this.absolute));\n    }\n    get parent() {\n        return this.directory;\n    }\n    get extension() {\n        return extname(this.absolute);\n    }\n    set extension(value) {\n        if (!value.startsWith('.')) {\n            throw Error(`Extension must start with a '.': ${value}`);\n        }\n        this.absolute = join(this.directory.toString(), `${basename(this.absolute, this.extension)}${value}`);\n    }\n    relative(base) {\n        return relative((base || process.cwd).toString(), this.absolute);\n    }\n    join(path) {\n        return new Path(join(this.absolute, path));\n    }\n    toString() {\n        return this.absolute;\n    }\n}\n//# sourceMappingURL=Path.js.map","var __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { existsSync as fileExistsSync } from 'fs';\nimport FileNotFoundError from '@error/FileNotFound';\nimport Path from '@lib/Path';\nfunction commonPathPrefix(paths) {\n    const { done, value: left } = paths.next();\n    if (done) {\n        return '';\n    }\n    let index = left.length;\n    for (const right of paths) {\n        for (let i = 0; i < index; ++i) {\n            if (left.charAt(i) !== right.charAt(i)) {\n                index = i;\n                break;\n            }\n        }\n    }\n    return left.substring(0, index);\n}\nexport default class File {\n    constructor({ path, options, config: { fileNames }, extension }) {\n        this.source = new Path(path.toString());\n        this.root = new Path(commonPathPrefix(fileNames[Symbol.iterator]()));\n        this.options = options;\n        this.extension = extension;\n        if (!fileExistsSync(this.destination.toString())) {\n            throw new FileNotFoundError({ path: this.destination });\n        }\n    }\n    get isMapped() {\n        return (async () => {\n            var e_1, _a, e_2, _b;\n            let mapped = false;\n            try {\n                for (var _c = __asyncValues(this.imports()), _d; _d = await _c.next(), !_d.done;) {\n                    const imprt = _d.value;\n                    mapped = mapped || await imprt.isMapped;\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) await _a.call(_c);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            try {\n                for (var _e = __asyncValues(this.exports()), _f; _f = await _e.next(), !_f.done;) {\n                    const imprt = _f.value;\n                    mapped = mapped || await imprt.isMapped;\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) await _b.call(_e);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            return mapped;\n        })();\n    }\n    get destination() {\n        const { outDir } = this.options;\n        if (!outDir) {\n            throw new TypeError(`Only 'outDir' is supported`);\n        }\n        const out = new Path(outDir);\n        const destination = out.join(this.source.relative(this.root));\n        destination.extension = this.extension;\n        return destination;\n    }\n    map(options) {\n        return __asyncGenerator(this, arguments, function* map_1() {\n            var e_3, _a, e_4, _b;\n            try {\n                for (var _c = __asyncValues(this.imports()), _d; _d = yield __await(_c.next()), !_d.done;) {\n                    const imprt = _d.value;\n                    const mapped = yield __await(imprt.map(options));\n                    if (mapped) {\n                        yield yield __await(imprt);\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) yield __await(_a.call(_c));\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            try {\n                for (var _e = __asyncValues(this.exports()), _f; _f = yield __await(_e.next()), !_f.done;) {\n                    const exprt = _f.value;\n                    const mapped = yield __await(exprt.map(options));\n                    if (mapped) {\n                        yield yield __await(exprt);\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) yield __await(_b.call(_e));\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        });\n    }\n    toString() {\n        return this.destination.toString();\n    }\n}\n//# sourceMappingURL=File.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { readFile as readFileSync, writeFile as writeFileSync } from 'fs';\nimport { ModuleKind } from 'typescript';\nimport { promisify } from 'util';\nimport ParseError from '@error/Parse';\nimport Export from '@es/Export';\nimport Import from '@es/Import';\nimport isExportNamedDeclaration from '@es/isExportNamedDeclaration';\nimport isImportDeclaration from '@es/isImportDeclaration';\nimport isRequireCallExpression from '@es/isRequireCallExpression';\nimport { attachComments, generate, parse, plugins, traverse } from '@es/parser';\nimport Require from '@es/Require';\nimport Base from '@lib/File';\nconst readFile = promisify(readFileSync);\nconst writeFile = promisify(writeFileSync);\nexport default class File extends Base {\n    constructor(_a) {\n        var options = __rest(_a, []);\n        super(Object.assign({}, options, { extension: '.js' }));\n        this.program = undefined;\n    }\n    get ast() {\n        if (this.program) {\n            return Promise.resolve(this.program);\n        }\n        else {\n            return (async () => {\n                const data = await readFile(this.destination.toString(), 'utf-8');\n                try {\n                    const comments = [];\n                    const tokens = [];\n                    const program = parse(data, {\n                        allowHashBang: true,\n                        ranges: true,\n                        onComment: comments,\n                        onToken: tokens,\n                        sourceType: this.options.module === ModuleKind.ES2015 ? 'module' : 'script',\n                        ecmaVersion: 8,\n                        plugins,\n                    });\n                    attachComments(program, comments, tokens);\n                    return this.program = program;\n                }\n                catch (error) {\n                    if (error instanceof SyntaxError) {\n                        throw new ParseError({ file: this, error, data });\n                    }\n                    else {\n                        throw error;\n                    }\n                }\n            })();\n        }\n    }\n    imports() {\n        return __asyncGenerator(this, arguments, function* imports_1() {\n            const ast = yield __await(this.ast);\n            yield __await(yield* __asyncDelegator(__asyncValues(ast.body\n                .filter(isImportDeclaration)\n                .map(declaration => new Import({ file: this, declaration })))));\n            const requires = [];\n            traverse(ast, {\n                enter: (declaration) => {\n                    if (isRequireCallExpression(declaration)) {\n                        requires.push(new Require({ file: this, declaration }));\n                    }\n                },\n            });\n            yield __await(yield* __asyncDelegator(__asyncValues(requires)));\n        });\n    }\n    exports() {\n        return __asyncGenerator(this, arguments, function* exports_1() {\n            const { body } = yield __await(this.ast);\n            yield __await(yield* __asyncDelegator(__asyncValues(body\n                .filter(isExportNamedDeclaration)\n                .map(declaration => new Export({ file: this, declaration })))));\n        });\n    }\n    async write(path, options) {\n        const ast = await this.ast;\n        const data = generate(ast, { comment: true });\n        return writeFile((path === undefined) ? this.destination.toString() : path, data, options);\n    }\n}\n//# sourceMappingURL=File.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport { SyntaxKind } from 'typescript';\nimport Base from '@lib/Declaration';\nexport default class Declaration extends Base {\n    constructor(_a) {\n        var { declaration, file } = _a, rest = __rest(_a, [\"declaration\", \"file\"]);\n        if (!declaration.moduleSpecifier) {\n            throw new TypeError(`No TS module specifier in '${file.source}'`);\n        }\n        const { kind, text } = declaration.moduleSpecifier;\n        if (kind !== SyntaxKind.StringLiteral) {\n            throw new TypeError(`Invalid TS declaration literal kind '${kind}' in '${file.source}'`);\n        }\n        super(Object.assign({ declaration, file }, rest, { path: text }));\n    }\n    get literal() {\n        return this.declaration.moduleSpecifier;\n    }\n    get path() {\n        return this.literal.text;\n    }\n    update(value) {\n        this.literal.text = value;\n    }\n}\n//# sourceMappingURL=Declaration.js.map","import Declaration from '@ts/Declaration';\nexport default class Export extends Declaration {\n}\n//# sourceMappingURL=Export.js.map","import Declaration from '@ts/Declaration';\nexport default class Import extends Declaration {\n}\n//# sourceMappingURL=Import.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { readFile as readFileSync, writeFile as writeFileSync } from 'fs';\nimport { createPrinter, createSourceFile, EmitHint, ScriptTarget, SyntaxKind, } from 'typescript';\nimport { promisify } from 'util';\nimport ParseError from '@error/Parse';\nimport Base from '@lib/File';\nimport Export from '@ts/Export';\nimport Import from '@ts/Import';\nconst readFile = promisify(readFileSync);\nconst writeFile = promisify(writeFileSync);\nexport default class File extends Base {\n    constructor(_a) {\n        var options = __rest(_a, []);\n        super(Object.assign({}, options, { extension: '.d.ts' }));\n        this.sourceFile = undefined;\n    }\n    get ast() {\n        if (this.sourceFile) {\n            return Promise.resolve(this.sourceFile);\n        }\n        else {\n            return (async () => {\n                const data = await readFile(this.destination.toString(), 'utf-8');\n                try {\n                    return this.sourceFile = createSourceFile(this.destination.toString(), data, ScriptTarget.Latest);\n                }\n                catch (error) {\n                    if (error instanceof SyntaxError) {\n                        throw new ParseError({ file: this, error, data });\n                    }\n                    else {\n                        throw error;\n                    }\n                }\n            })();\n        }\n    }\n    imports() {\n        return __asyncGenerator(this, arguments, function* imports_1() {\n            const { statements } = yield __await(this.ast);\n            yield __await(yield* __asyncDelegator(__asyncValues(statements\n                .filter(({ kind }) => kind === SyntaxKind.ImportDeclaration)\n                .map(n => new Import({ file: this, declaration: n })))));\n        });\n    }\n    exports() {\n        return __asyncGenerator(this, arguments, function* exports_1() {\n            const { statements } = yield __await(this.ast);\n            yield __await(yield* __asyncDelegator(__asyncValues(statements\n                .filter(({ kind }) => kind === SyntaxKind.ExportDeclaration)\n                .filter(n => n.moduleSpecifier)\n                .map(n => new Export({ file: this, declaration: n })))));\n        });\n    }\n    async write(path, options) {\n        const sourceFile = await this.ast;\n        const { newLine } = this.options;\n        const printer = createPrinter({ newLine });\n        const data = printer.printNode(EmitHint.SourceFile, sourceFile, sourceFile);\n        return writeFile((path === undefined) ? this.destination.toString() : path, data, options);\n    }\n}\n//# sourceMappingURL=File.js.map","var __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { existsSync as fileExistsSync, readFileSync as fileReadSync } from 'fs';\nimport { dirname, resolve } from 'path';\nimport * as ts from 'typescript';\nimport EsFile from '@es/File';\nimport TsFile from '@ts/File';\nexport default class Mapper {\n    constructor({ tsconfig, projectRoot }) {\n        const config = ts.readConfigFile(tsconfig, path => fileReadSync(path, 'utf-8'));\n        if (config.error) {\n            throw new TypeError(ts.formatDiagnostics([config.error], {\n                getCanonicalFileName: f => f,\n                getCurrentDirectory: process.cwd,\n                getNewLine: () => '\\n',\n            }));\n        }\n        const host = {\n            fileExists: fileExistsSync,\n            readDirectory: ts.sys.readDirectory,\n            readFile: f => fileReadSync(f, 'utf8'),\n            useCaseSensitiveFileNames: true,\n        };\n        const root = resolve(projectRoot || dirname(tsconfig));\n        const parsed = ts.parseJsonConfigFileContent(config.config, host, root, { noEmit: true });\n        const errors = parsed.errors.filter(d => d.category === ts.DiagnosticCategory.Error && d.code !== 18003);\n        if (errors.length !== 0) {\n            throw new TypeError(ts.formatDiagnostics(errors, {\n                getCanonicalFileName: f => f,\n                getCurrentDirectory: process.cwd,\n                getNewLine: () => '\\n',\n            }));\n        }\n        parsed.options.rootDir = parsed.options.rootDir || projectRoot;\n        this.parsed = parsed;\n    }\n    files() {\n        return __asyncGenerator(this, arguments, function* files_1() {\n            const config = this.parsed;\n            const { options, fileNames } = config;\n            const files = fileNames.filter(n => !n.endsWith('.d.ts'));\n            yield __await(yield* __asyncDelegator(__asyncValues(files.map(path => new EsFile({ path, options, config })))));\n            if (options.declaration) {\n                yield __await(yield* __asyncDelegator(__asyncValues(files.map(path => new TsFile({ path, options, config })))));\n            }\n        });\n    }\n    map() {\n        return __asyncGenerator(this, arguments, function* map_1() {\n            var e_1, _a;\n            try {\n                for (var _b = __asyncValues(this.files()), _c; _c = yield __await(_b.next()), !_c.done;) {\n                    const file = _c.value;\n                    yield __await(yield* __asyncDelegator(__asyncValues(file.map(this.parsed.options))));\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) yield __await(_a.call(_b));\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        });\n    }\n}\n//# sourceMappingURL=Mapper.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport Mapper from '@lib/Mapper';\nexport default function convert(_a) {\n    var other = __rest(_a, []);\n    return __asyncGenerator(this, arguments, function* convert_1() {\n        const mapper = new Mapper(Object.assign({}, other));\n        yield __await(yield* __asyncDelegator(__asyncValues(mapper.map())));\n    });\n}\n//# sourceMappingURL=convert.js.map"],"names":["isIdentifier","isSimpleLiteral","path","ts.nodeModuleNameResolver","fs.existsSync","fs.readFileSync","join","dirname","basename","relative","this","Declaration","Base","ResolutionError","resolve","extname","fileExistsSync","FileNotFoundError","__rest","__await","__asyncValues","__asyncGenerator","promisify","readFileSync","writeFileSync","File","ModuleKind","SyntaxKind","Export","Import","__asyncDelegator","readFile","writeFile","createSourceFile","ScriptTarget","createPrinter","EmitHint","ts.readConfigFile","fileReadSync","ts.formatDiagnostics","ts.sys","ts.parseJsonConfigFileContent","ts.DiagnosticCategory","EsFile","TsFile"],"mappings":"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"}